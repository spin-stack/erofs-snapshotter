# containerd Configuration Example for EROFS Snapshotter
#
# Add this to your /etc/containerd/config.toml

version = 2

# Register the external spin-erofs snapshotter
[proxy_plugins]
  [proxy_plugins.spin-erofs]
    type = "snapshot"
    address = "/run/erofs-snapshotter/snapshotter.sock"

  [proxy_plugins.spin-erofs-diff]
    type = "diff"
    address = "/run/erofs-snapshotter/snapshotter.sock"

# Optional: Use spin-erofs as the default snapshotter for CRI
[plugins."io.containerd.cri.v1.images"]
  snapshotter = "spin-erofs"

# Optional: Configure the default runtime to use spin-erofs
# [plugins."io.containerd.cri.v1.runtime"]
#   [plugins."io.containerd.cri.v1.runtime".containerd]
#     snapshotter = "spin-erofs"
