# containerd Configuration Example for Nexus EROFS Snapshotter
#
# Add this to your /etc/containerd/config.toml

version = 2

# Register the external nexus-erofs snapshotter
[proxy_plugins]
  [proxy_plugins.nexus-erofs]
    type = "snapshot"
    address = "/run/nexus-erofs-snapshotter/snapshotter.sock"

  [proxy_plugins.nexus-erofs-diff]
    type = "diff"
    address = "/run/nexus-erofs-snapshotter/snapshotter.sock"

# Optional: Use nexus-erofs as the default snapshotter for CRI
[plugins."io.containerd.cri.v1.images"]
  snapshotter = "nexus-erofs"

# Optional: Configure the default runtime to use nexus-erofs
# [plugins."io.containerd.cri.v1.runtime"]
#   [plugins."io.containerd.cri.v1.runtime".containerd]
#     snapshotter = "nexus-erofs"
